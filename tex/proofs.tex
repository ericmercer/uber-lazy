\section{Proofs}

\subsection{Definitions}

\begin{definition}
A \textbf{state transition function} $\rightarrow_{\Phi}$ is a mapping $\rightarrow_{\Phi} : s \mapsto s$ , which takes one machine state and transforms it into another machine state. The state transition function with superscript represents composition of the state transition function: $$ s_a \rightarrow_{\Phi} s_b \rightarrow_{\Phi} s_c \implies s_a \rightarrow_{\Phi}^2 s_c $$
\end{definition}

\begin{definition}
A \textbf{feasible state sequence} is defined as a sequence of states resulting from repeated application of the state transition relation to some initial state $s_0$: $$\Pi_n = s_0,s_1,...,s_n$$ where the relation $s_i \rightarrow_{\Phi} s_{i+1}$ holds for all $i \in \{ i | 0 \leq i < n \}$
\end{definition}

\begin{definition}
Given a sequence of states $$\Pi_n = s_0,s_1,...,s_n$$ where $$s_i = ( \mu_i\ \cfgnt{L}_i\ \cfgnt{R}_i\ \phi_i\ \eta_i\ \cfgnt{e}_i\ \cfgnt{k}_i )$$ the \textbf{control flow sequence} of $\Pi_n$ is the defined as the sequence of tuples $$ \pi_n = \mathbb{CF}(\Pi_n) = (\eta_0\ \cfgnt{e}_0\ \cfgnt{k}_0),(\eta_1\ \cfgnt{e}_1\ \cfgnt{k}_1),...,(\eta_n\ \cfgnt{e}_n\ \cfgnt{k}_n)$$
\end{definition}

\begin{definition}
Given a state transition function $\rightarrow_{\Phi}$, an initial state $s_0$ and a control flow sequence $\pi_n$, the \textbf{feasible state set} $\zeta = \mathbb{FS}(\rightarrow_{\Phi},s_0,\pi_n)$ is defined as
 $$\zeta = \{ \forall s | \pi_n = \mathbb{CF}(\Pi_n) \wedge s = max_s(\Pi) \wedge s_0 \rightarrow_{\Phi}^{n-1} s\} $$
\end{definition}

\begin{definition}
A \textbf{heap homomorphism} $(g\ h)$ between two states $s_x$ and $s_y$ is defined as a pair of functions $g:\cfgnt{r} \mapsto \cfgnt{r}$ and $h:\cfgnt{l} \mapsto \cfgnt{l}$ such that for any reference $r \in s_x$, location $l \in s_x$, and field $f$, $$ l \in \cfgnt{L}_x(r) \Leftrightarrow h(l)\in \cfgnt{L}_y(g(r))$$ and $$ r = \cfgnt{R}_x(l,f) \Leftrightarrow g(r) = \cfgnt{R}_y(h(l),f)$$ If a such a pair of functions exists from one state $s_x$ to another state $s_y$ we say that state $s_x$ is \textbf{heap homomorphic} to state $s_y$, indicated by the notation $(g\ f):\ s_x \rightarrow s_y$. 

Suppose we take the set of constraints from the image of $s_x$ in $s_y$ under $(g\ h)$ :
$$\chi = \{ \phi\ | \exists (r \in \cfgnt{R}_x,\  l \in \cfgnt{L}_x) ( (\phi\ h(l)) \in \cfgnt{L}_y (g(r))  \}$$ and we conjoin those constraints with the global invariant from $s_y$ :
$$\phi_G = \phi_y \bigwedge_{\phi_i \in \chi} \phi_i $$
 If the expression $\phi_G$ is satisfiable, we say that the heap homomorphism $(g\ h):\ s_x \rightarrow s_y $ is \textbf{valid}.
\end{definition}
\begin{definition}
A symbolic system state represents a set of lazy system states. To denote the representation relationship, we use the expression $s_\ell \sqsubset s_s $ to say that lazy system state $s_\ell$ is represented by symbolic state $s_s$ . The \textbf{representation relation} is defined as follows: $s_\ell \sqsubset s_s $ if and only if $\eta_{\ell} = \eta_{s} ,\ \cfgnt{e}_{\ell} = \cfgnt{e}_{s} ,\ \cfgnt{k}_{\ell} = \cfgnt{k}_{s}$, and there exists a valid heap homomorphism $(g\ h):\ s_\ell \rightarrow s_s $.
\end{definition}

\begin{definition}
A symbolic state $s_s$ is \textbf{exact} with respect to an initial state $s_0$ and control flow path $\pi$ if and only if it represents every state in the set feasible lazy states and represents no infeasible state:

$$ s_\ell \in \mathbb{FS}(\rightarrow_{\ell},s_0,\pi) \Leftrightarrow s_\ell \sqsubset s_s $$

\end{definition}

\subsection{Theorems}

\begin{lemma}
If symbolic state $\mathcal{S}$ is exact prior to executing the Field Access rule, then the state $\mathcal{S}^\prime $ is also exact.
\end{lemma}

\begin{proof}
Suppose we have some symbolic state  $\mathcal{S} =  \lp \cfgnt{L}_{\mathcal{S}}\ \cfgnt{R}_{\mathcal{S}}\ \phi_g\ \eta\ \cfgnt{r}\ \lp \cfgt{*}\ \cfgt{\$}\ \cfgnt{f} \rightarrow \cfgnt{k}\rp \rp $ , and that all relevant fields are initialized. Take an arbitrary lazy state $\mathcal{L} \sqsubset \mathcal{S}$. Since $\mathcal{S}$ is exact,  $\mathcal{L} = \lp \cfgnt{L}_{\mathcal{L}}\ \cfgnt{R}_{\mathcal{L}}\ \phi_L\ \eta\ \cfgnt{r}\ \lp \cfgt{*}\ \cfgt{\$}\ \cfgnt{f} \rightarrow \cfgnt{k} \rp \rp$. If we apply the lazy field access rule to $\mathcal{L}$, we achieve state $\mathcal{L}^\prime = \lp \cfgnt{L}_{\mathcal{L}} [\cfgnt{r}^\prime \mapsto \lp\phi^\prime\ l^\prime\rp]\ \cfgnt{R}_{\mathcal{L}}\ \phi_L\ \eta\ \cfgnt{r}^\prime\ \cfgnt{k}\rp $. Likewise, by applying the symbolic field access rule to $\mathcal{S}$, we obtain state $\mathcal{S}^\prime = \lp \cfgnt{L}_{\mathcal{S}}[\cfgnt{r}^\prime \mapsto \mathbb{VS}\lp \cfgnt{L}_{\mathcal{S}},\cfgnt{R}_{\mathcal{S}},\cfgnt{r},\cfgnt{f},\phi_g\rp ]\ \cfgnt{R}_{\mathcal{S}}\ \phi_g\ \eta\ \cfgnt{r}^\prime\ \cfgnt{k}\rp $.

We now show that state $\mathcal{S}^\prime$ represents state $\mathcal{L}^\prime $. Since $\eta$, $e$, and $k$ are identical between $\mathcal{S}^\prime$ and $\mathcal{L}^\prime $, the first condition is met by default. Constructing the reference and location mappings is only slightly less trivial: $$g^\prime = g$$ $$h^\prime = h[ r^\prime \mapsto r^\prime]$$ 

It only remains to show that the image of $\mathcal{L}^\prime$ in $\mathcal{S}^\prime$ is feasible, WHICH WILL BE EASY ONCE WE DEFINE WHAT THAT MEANS.

Now, we show that no infeasible lazy states are allowed by $\mathcal{S}^\prime$. NEED TO FILL IN THIS BIT, TOO

$\mathbb{S}(\bigwedge_{(\phi l) \in L_s^i} \phi)) \wedge \forall l \in L_L (\exists l \in L_s^i)$
\end{proof}


